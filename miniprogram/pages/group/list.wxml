<!-- pages/group/list.wxml -->
<view class="container">
  <!-- é¡¶éƒ¨ç»Ÿè®¡ -->
  <button bindtap="callGenerateTestData" type="primary">ç”Ÿæˆæµ‹è¯•æ•°æ®</button>
  <view class="stats-card">
    <view class="stat-item">
      <text class="stat-number">{{stats.createdCount}}</text>
      <text class="stat-label">åˆ›å»ºçš„ç¾¤ç»„</text>
    </view>
    <view class="stat-item">
      <text class="stat-number">{{stats.joinedCount}}</text>
      <text class="stat-label">åŠ å…¥çš„ç¾¤ç»„</text>
    </view>
  </view>

  <!-- æ“ä½œæŒ‰é’® -->
  <view class="action-buttons">
    <button class="btn primary" bindtap="goToCreate">åˆ›å»ºç¾¤ç»„</button>
    <button class="btn secondary" bindtap="goToJoin">åŠ å…¥ç¾¤ç»„</button>
  </view>

  <!-- ç¾¤ç»„åˆ—è¡¨ -->
  <view class="group-list">
    <view wx:for="{{groupList}}" wx:key="_id" class="group-item" bindtap="goToGroupDetail" data-groupid="{{item._id}}">
      <view class="group-info">
        <text class="group-name">{{item.name}}</text>
        <text class="group-meta">
          <text class="role-tag {{item.userRole}}">{{item.userRole === 'creator' ? 'åˆ›å»ºè€…' : 'æˆå‘˜'}}</text>
          Â· {{item.memberCount}} åæˆå‘˜
        </text>
      </view>
      <view class="group-arrow">></view>
    </view>

    <view wx:if="{{groupList.length === 0}}" class="empty-state">
      <text class="empty-icon">ğŸ‘¥</text>
      <text class="empty-text">æ‚¨è¿˜æ²¡æœ‰åŠ å…¥ä»»ä½•ç¾¤ç»„</text>
      <text class="empty-subtext">åˆ›å»ºæˆ–åŠ å…¥ä¸€ä¸ªç¾¤ç»„ï¼Œå¼€å§‹ä¸æœ‹å‹ä¸€èµ·å­¦ä¹ </text>
    </view>
  </view>
</view>